<app-header backButton="/auth" title="Registro"></app-header>

<ion-content class="ion-padding">
    <div class="d-flex-center">
        <form *ngIf="!loading" class="auth-form">

            <ion-icon src="assets/Sensualite_Logo.svg" color="primary" class="shield-icon" name="shield-outline"></ion-icon>

            <!-- Nombre -->
            <ion-item lines="full">
                <ion-icon name="person-outline" slot="start"></ion-icon>
                <ion-label position="floating">Nombre</ion-label>
                <ion-input type="text" [(ngModel)]="nombre" name="nombre" required></ion-input>
            </ion-item>

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <!-- Apellido -->
            <ion-item lines="full">
                <ion-icon name="person-outline" slot="start"></ion-icon>
                <ion-label position="floating">Apellido</ion-label>
                <ion-input type="text" [(ngModel)]="apellido" name="apellido" required></ion-input>
            </ion-item>

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <!-- Edad -->
            <ion-item lines="full">
                <ion-icon name="calendar-outline" slot="start"></ion-icon>
                <ion-label position="floating">Edad</ion-label>
                <ion-input type="number" [(ngModel)]="edad" name="edad" required></ion-input>
            </ion-item>

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <!-- Correo Electrónico -->
            <ion-item lines="full">
                <ion-icon name="mail-outline" slot="start"></ion-icon>
                <ion-label position="floating">Correo Electrónico</ion-label>
                <ion-input type="email" [(ngModel)]="correo" name="correo" required></ion-input>
            </ion-item>

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <!-- Dirección -->
            <ion-item lines="full">
                <ion-icon name="location-outline" slot="start"></ion-icon>
                <ion-label position="floating">Dirección</ion-label>
                <ion-input type="text" [(ngModel)]="domicilio" name="domicilio" required></ion-input>
            </ion-item>

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <!-- Teléfono -->
            <ion-item lines="full">
                <ion-icon name="call-outline" slot="start"></ion-icon>
                <ion-label position="floating">Teléfono</ion-label>
                <ion-input type="tel" [(ngModel)]="telefono" name="telefono" required></ion-input>
            </ion-item>

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <ion-item lines="full">
                <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
                <ion-label position="floating">Contraseña</ion-label>
                <ion-input #passwordInput type="password" [(ngModel)]="password" name="password" required></ion-input>
                <ion-icon slot="end" name="eye" (click)="togglePasswordVisibility('password')" style="cursor: pointer; vertical-align: middle; margin-top: 24px;"></ion-icon>
              </ion-item>
              
              <div style="margin-bottom: 6px;"></div>
              
              <ion-item lines="full">
                <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
                <ion-label position="floating">Confirmar Contraseña</ion-label>
                <ion-input #confirmpasswordInput type="password" [(ngModel)]="confirmpassword" name="confirmpassword" required></ion-input>
                <ion-icon slot="end" name="eye" (click)="togglePasswordVisibility('confirmpassword')" style="cursor: pointer; vertical-align: middle; margin-top: 24px;"></ion-icon>
              </ion-item>
              

            <!-- Espacio vertical entre los inputs -->
            <div style="margin-bottom: 6px;"></div>

            <!-- Botón Registrarse -->
            <ion-button expand="block" (click)="addUser()" mode="ios" class="submit custom-button" color="undefined" [disabled]="loading">
                <div *ngIf="loading" class="spinner-container">
                  <div class="spinner-border spinner-border-sm text-light" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                </div>
                <span *ngIf="!loading">Registrarse</span>
                <ion-icon slot="end" name="person-add-outline" *ngIf="!loading"></ion-icon>
              </ion-button>
        </form>
    </div>
    <app-spinner *ngIf="loading"></app-spinner>
</ion-content>